export PLUGIN_EUNOMIA_NAME=gvm

export PLUGIN_EUNOMIA_GIT_DIR=${PLUGIN_DATA}/git/repo
export PLUGIN_EUNOMIA_BUILD_DIR=${PLUGIN_DATA}/build
export PLUGIN_EUNOMIA_PKG_DIR=${PLUGIN_DATA}/pkg
export PLUGIN_EUNOMIA_EXPORT_DIR=${PLUGIN_DATA}/export
# Dockerfiles
export PLUGIN_EUNOMIA_DOCKERFILES_DIR=${PLUGIN_DIR}/config/dockerfiles

if [ ! -d "$PLUGIN_EUNOMIA_GIT_DIR" ]; then
  mkdir -p $PLUGIN_EUNOMIA_GIT_DIR
fi

if [ ! -d "$PLUGIN_EUNOMIA_BUILD_DIR" ]; then
  mkdir -p $PLUGIN_EUNOMIA_BUILD_DIR
fi

if [ ! -d "$PLUGIN_EUNOMIA_PKG_DIR" ]; then
  mkdir -p $PLUGIN_EUNOMIA_PKG_DIR
fi

if [ ! -d "$PLUGIN_EUNOMIA_EXPORT_DIR" ]; then
  mkdir -p $PLUGIN_EUNOMIA_EXPORT_DIR
fi

if [ ! -d "$PLUGIN_EUNOMIA_DOCKERFILES_DIR" ]; then
  log::error "[config] Dockerfiles Dir($PLUGIN_EUNOMIA_DOCKERFILES_DIR) not found"
  exit 1
fi

if [ -z "$(ls $PLUGIN_EUNOMIA_DOCKERFILES_DIR)" ]; then
  log::error "[config] Dockerfiles Dir($PLUGIN_EUNOMIA_DOCKERFILES_DIR) is empty"
  exit 1
fi


# # BUILD
# export PLUGIN_EUNOMIA_BUILD_ID=${PLUGIN_EUNOMIA_BUILD_ID}
# # export PLUGIN_EUNOMIA_BUILD_HASH=${PLUGIN_EUNOMIA_BUILD_HASH}

# # export PLUGIN_EUNOMIA_BUILD_HASH=$(md5sum $PLUGIN_EUNOMIA_GIT_REPO_PKG | awk -F " " '{print $1}')
# export PLUGIN_EUNOMIA_BUILD_ID_DIR=${PLUGIN_EUNOMIA_BUILD_DIR}/${PLUGIN_EUNOMIA_BUILD_ID}
# export PLUGIN_EUNOMIA_GIT_REPO_DIR=$PLUGIN_EUNOMIA_GIT_DIR/$PLUGIN_EUNOMIA_BUILD_ID
# export PLUGIN_EUNOMIA_GIT_DOT_ENV=$PLUGIN_EUNOMIA_GIT_REPO_DIR/.eunomia

# export PLUGIN_EUNOMIA_GIT_REPO_NAME=${PLUGIN_EUNOMIA_GIT_REPO_NAME}
# export PLUGIN_EUNOMIA_GIT_REPO_PKG=${PLUGIN_EUNOMIA_GIT_REPO_PKG}

# export PLUGIN_EUNOMIA_DOCKER_REGISTRY=${PLUGIN_EUNOMIA_DOCKER_REGISTRY}

# # PIPELINE
# export PIPELINE_BUILD_ID=${PLUGIN_EUNOMIA_BUILD_ID}
# export PIPELINE_BUILD_CONTEXT=$PLUGIN_EUNOMIA_BUILD_ID_DIR
# export PIPELINE_GIT_REPOSITORY_DIR=$PLUGIN_EUNOMIA_GIT_REPO_DIR
# export PIPELINE_DOCKER_REGISTRY=$PLUGIN_EUNOMIA_DOCKER_REGISTRY
# export PIPELINE_IMAGE_NAME=$PLUGIN_EUNOMIA_GIT_REPO_NAME
# export PIPELINE_IMAGE_TAGS=commit_${PLUGIN_EUNOMIA_BUILD_ID}


# #
# export PLUGIN_EUNOMIA_RUNNER_NAME=zpipeline_${PLUGIN_EUNOMIA_BUILD_ID}
# export PLUGIN_EUNOMIA_RUNNER_IMAGE=$PLUGIN_EUNOMIA_DOCKER_REGISTRY/$PIPELINE_IMAGE_NAME:$PIPELINE_IMAGE_TAGS

# if [ ! -d "$PLUGIN_EUNOMIA_GIT_DIR" ]; then
#   mkdir -p $PLUGIN_EUNOMIA_GIT_DIR
# fi

# if [ ! -d "$PLUGIN_EUNOMIA_BUILD_DIR" ]; then
#   mkdir -p $PLUGIN_EUNOMIA_BUILD_DIR
# fi

